## Особенности

TODO: ссылка на доку о параметрах и аргументах https://trello.com/c/R6DBDMdj/59

Для методов `invoke()` и `make()` правила подборки и передачи аргументов идентичны.\
Правила перечислены в порядке убывания приоритета.
К каждому следующему шагу Injector переходит тогда, когда не удалось получить значение аргумента на текущем шаге.

1. Любой аргумент в массиве аргументов может быть явно связан с параметром по его имени:
   ```php
   $callable = fn (MessageInterface $message) => $message->getText();
   $injector->invoke($callable, ['message' => $messageObject]);
   ```
   - В этом случае Injector не проверяет соответствие типов параметра и аргумента.
   - Если в параметр с переменным числом аргументов (variadic) передаётся значение в виде массива (array), то элементы
     массива будут переданы как отдельные аргументы.
   - Любые аргументы, не являющиеся объектами, должны указываться только по имени параметра. В противном случае будет
     брошено исключение.
2. Если параметр имеет тип `object` или имя класса, то Injector:
   - Ищет соответствующий объект в массиве аргументов среди неименованных значений. Если параметр с переменным числом
     аргументов, то из массива аргументов выбираются все неименованные значния подходящего типа.
   - Запрашивает значение в контейнере по имени класса.
3. Берётся значение параметра по умолчанию.
4. Если параметр не типизированный и не с переменным числом аргументов, то на этом шаге будет брошено исключение.
5. Если тип параметра помечен обнуляемым (nullable), то аргумент для этого параметра принимает значение `null`. В случае
   обнуляемого параметра с переменным числом аргументов `null` не передаётся.

Дополнительно:

* Неисользованные неименованные аргументы по возможности передаются по остаточному принципу. Значения этих аргументов
  аргументам можгут быть получены функцией `func_get_args()`.
* Неиспользованные именованные аргументы игнорируются.
* Если параметры функции принимают аргументы по ссылке, то для правильной передачи переменной по ссылке, вам следует
  указывать аргументы тоже по ссылке:
  ```php
  $foo = 1;
  $increment = function (int &$value) {
      ++$value;
  };
  (new Injector($container))->invoke($increment, ['value' => &$foo]);
  echo $foo; // 2
  ```
